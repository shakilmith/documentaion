<!--V2, written for codeinjar.com-->

<!DOCTYPE html>
<html lang="en">
<head>
<!--meta tags for SEO-->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="Quarkus Rest API Tutorial; Learn How to create CRUD Like rest api using hibernate orm with panache in quarkus.">
<meta name="description" content="Quarkus makes it easy and comfortable to build cloud applications. Today, we are going to learn how to build simple rest api application using quarkus.">
<meta name="keywords" content="Java, Backend, REST API, Software Development, Quarkus, Hibernate ORM with Panache, Reactive Pattern, MySQL, API Development">
<meta name="author" content="shakilmith">


<!--meta tags for open graph protocol (og:title, og:image)-->
<meta property="og:type" content="website" />
<meta property="og:title" content="Quarkus Rest API Tutorial; Learn How to create CRUD Like rest api using hibernate orm with panache in quarkus." />
<!--Image description-->
<!--
<meta property="og:image" content="https://example.com/rock.jpg" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="300" />
<meta property="og:image:height" content="300" />
-->





<!--Include.js file-->
<script src="https://file-hosting.dashnexpages.net/marketingstrategy/assets/js/include.js"></script>



<!--HighlightJS-->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  
<!-- and it's easy to individually load additional languages -->
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/go.min.js"></script>
  



  <title>Jax/RS Rest API development Tutorial Using Quarkus | codeinjar.com</title>

  <style>
    /*Rubik font*/
    @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');


      *{
        box-sizing: border-box;
      }
      html, body{
        margin: 0px;
        padding: 0px;
      }
      
      .post-container{
        margin-left: 16px;
        margin-right: 16px;
        margin-top: 10px;
        margin-bottom: 10px;
        font-size: 16px;
        line-height: 1.5;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      /*Rubik font style*/
      .rubik-font-style{
        font-family: "Rubik", sans-serif;
        font-optical-sizing: auto;
        font-weight: 400;
        line-height: 1.5;
        font-size: 16px;
        font-style: normal;
      }
      
      pre code {
        background-color: #eee;
        border: 1px solid #999;
        display: block;
        padding: 8px;
        overflow: auto;
        border-left: 5px solid red;
        /* Add shadows to create the "card" effect */
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        margin-top: 32px;
        margin-bottom: 23px;
    }
    .left-border{
        border-left: 3px solid red;
      }  
    
      .highlight-text{
        background-color: papayawhip;
        color: black;
        display: inline;
        }
        
      .highlight-section{
        box-sizing: border-box;
        background-color: papayawhip;
        border-left: 5px solid red;
        color: black;
        padding: 3px 8px 3px 8px;
      }
  
    .large-bold-text{
      font-size: 36px;
      font-weight: bold;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }
    .medium-bold-text{
      font-size: 24px;
      font-weight: bold;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }
    .small-bold-text{
      font-size: 18px;
      font-weight: bold;
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    }
  
  /** Image style in tutorial pages
  * In desktop version, image will be centered
  * Mobile or tablet version, it will be full width
  */
  
    /* for mobile */
    .post-image-style{
      width: 100%; 
      height: auto;
      display: block;
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
      transition: 0.3s;
      margin-top: 24px;
      margin-bottom: 24px;
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);;
    }
    
    /* for desktop */
    @media screen and (min-width: 580px){
      .post-image-style{
          max-width: 50%;
          height: auto;
          display: block;
          margin-left: auto;
          margin-right: auto;
          margin-top: 50px;
          margin-bottom: 50px;
          border-radius: 10px;
      }
    }

  </style>
  
</head>
<body>

<!-- Top nav -->
<div include-html="https://file-hosting.dashnexpages.net/marketingstrategy/assets/html/header.html"></div>
  



<!--Post starts-->  
<div class="post-container rubik-font-style">



<h1>Develop A Simple Rest API Using Quarkus Hibernate ORM with Panache</h1>

<p>
In this tutorial post, we are going to explore how easy we can develop CRUD (Create, Read, Update, Delete) like rest api application using Quarkus Hibernate ORM with Panache. Quarkus Hibernate ORM with Panache is a Quarkus extension that simplifies the development of database driven applications.
</p>

<div>
<p>
<b>Initial requirements:</b>
</p>
<ul style="list-style-type: circle;">
<li>
    JavaSE version: 17+
</li>
<li>
    Maven or Gradle as a build tool or using CLI (<a href="https://quarkus.io/get-started/" target="_blank">https://quarkus.io/get-started/</a>)
</li>
<li>
    Maven version: 3.6.3+ (for maven users)
</li>
<li>
    Gradle version: 7.5+ (for gradle users)
</li>
<li>
    And IDE that supports Java and maven/gradle: Like IntelliJ IDE, Eclipse or VS code.
</li>
</ul>
</div>

<p class="medium-bold-text">
Bootstrap Your Quarkus Application
</p>

<p>
If you already have quarkus application ready to get started then add the following extensions or maven dependencies in your application classpath, will be required for this project.
</p>

<p>
<b>pom.xml</b>
</p>

<p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-rest-jackson&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</p>


<p>
In case if you don't have Quarkus application bootstrapped, use Quarkus initializer website to bootstrap a simple Quarkus application with required extensions. 
</p>

<p>
Visit: <a href="https://quarkus.io/get-started/" target="_blank">https://quarkus.io/get-started/</a> in order to create a new Quarkus application and don't forget to add the above required dependencies.
</p>

<p class="medium-bold-text">
Open Your Project Into Your Favourite IDE
</p>

<p>
After downloading the zip file, unzip it to any directory and open it into your favourite IDE.
</p>

<p>
<b>IntelliJ:</b> File -> Open -> Select the project folder -> Ok (finish) It will now open your project in the current window or new window. Remember your project location you have just downloaded or extracted.
</p>

<p>
<b>Eclipse:</b> File -> Import -> Existing Maven Project -> Next -> Browse (you have just download and extracted) -> Select the project folder (spring-boot-example) -> Finish
</p>

<p>
<b>VS Code:</b> File > Open Folder > Browse the existing spring boot project > Select Folder.
</p>

<p>
<b>NetBeans:</b> File > Open Project > Browse the existing spring boot project (maven project) > Open project.
</p>

<p>
<b>Note:</b> After opening your project into your favourite IDE (in my case IntelliJ IDE) wait few seconds in order to resolve the maven dependencies. As Quarkus doesn't have main class file, thus you get compile time error - <b>ClassNotFoundException</b> while running your application for the first time. So, you have to install quarkus tools plugin if you use intelliJ Ide. <b>How to install Quarkus Tools plugin?</b> - File -> Settings -> Plugins -> Search Quarkus Tools (from the marketplace) -> Click on Quarkus Tools -> Click Apply -> As usual wait few seconds till completing the download (probably you have to restart your IDE)
</p>

<p class="medium-bold-text">
Create An Entity Class
</p>


<p>
Let's create a simple entity class called <b>Person.java</b> in <b>com.company.model</b> folder.
</p>

<p>
<b>Person.java</b>
</p>

<p>
<pre><code>package com.company.model;

import io.quarkus.hibernate.orm.panache.PanacheEntity;
import jakarta.persistence.*;

@Entity(name = &quot;Person&quot;)
@Table(name = &quot;person&quot;)
public class Person extends PanacheEntity{
    /**
     * id field is added automatically when you
     * extends panacheEntity
     */
    public String firstName;
    public String lastName;
    public int age;
    public String email;
    public String role;


    public Person() {
    }

    public Person(String firstName, String lastName, int age, String email, String role) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
        this.email = email;
        this.role = role;
    }

    /**
     * getter and setter methods are omitted as they will be
     * handled by PanacheEntity, even id will be generated programmatically
     * if you want to create id externally please extends PanacheEntityBase instead of
     * PanacheEntity
     */

}</code></pre>
</p>


<p>
<b>Note:</b> It is required to annotate your model class by <b>@Entity</b> annotation. No need to define id field while you use reactive pattern and extends <b>PanacheEntity</b>.
</p>


<p class="medium-bold-text">
Create A Resource Class
</p>

<p>
Resource class is just like a controller class from where we can manage our endpoints. Hence, create a resource class called <b>PersonResource.java</b> in the resources folder and define all the CRUD <b>JAX/RS</b> rest annotations like <b>@GET</b>, <b>@POST</b>, <b>@PUT</b> and <b>@DELETE</b> annotations in order to build a simple rest api that can create, read, update or delete entity records of the database.
</p>


<p>
<b>PersonResource.java</b>
</p>

<p>
<pre><code>package com.company.resources;

import com.company.model.Person;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.transaction.Transactional;
import jakarta.ws.rs.*;
import jakarta.ws.rs.core.MediaType;
import jakarta.ws.rs.core.Response;

import java.util.List;

@Path(&quot;/api/persons&quot;)
@Produces(MediaType.APPLICATION_JSON)
@Consumes(MediaType.APPLICATION_JSON)
@ApplicationScoped
public class PersonResource {

    //method for getting all person records
    @GET
    public List&lt;Person&gt; getAll(){
        //call the listAll() method
        return Person.listAll();
    }

    //method for saving new person record
    @POST
    @Transactional
    public Response save(Person person){
        if(person.id !=null){
            throw new WebApplicationException(&quot;Id was set invalidly on request&quot;, 404);
        }
        //call the persist() method
        person.persist();
        return Response.ok().entity(person).build();
    }

    //method for each person records by its id
    @GET
    @Path(&quot;/{id}&quot;)
    public Person getPersonById(@PathParam(&quot;id&quot;) int id){
        Person entity = Person.findById(id);
        if(entity.id == null){
            throw new WebApplicationException(&quot;Person with id of &quot; + id + &quot;doesn&#39;t not exist&quot;, 404);
        }
        return Person.findById(id);
    }

    //method for updating person records
    @PUT
    @Path(&quot;/{id}&quot;)
    @Transactional
    public Person updatePerson(int id, Person person){

        Person entity = Person.findById(id);
        if ( entity.id == null) {
            throw new WebApplicationException(&quot;Person with id of &quot; + id + &quot;doesn&#39;t not exist&quot;, 404);
        }
        entity.firstName = person.firstName; //actually it calls setFirstName under the hood
        entity.lastName = person.lastName;
        entity.age = person.age;
        entity.email = person.email;
        entity.role = person.role;

        return entity;
    }

    //method for deleting person records
    @DELETE
    @Path(&quot;/{id}&quot;)
    @Transactional
    public Response deleteStudent(int id){
        Person entity = Person.findById(id);
        if(entity.id == null){
            throw new WebApplicationException(&quot;The person of id &quot;+ id +&quot;doesn&#39;t exist&quot;, 404);
        }
        entity.delete();
        return Response.status(204).build();
    }
}</code></pre>
</p>

<p>
<b>Note:</b> The root path is required and be careful when you use the <b>@Transactional</b> annotations, as it can modify the database accidentally.
</p>

<p class="medium-bold-text">
Map The Database Configuration
</p>

<p>
Open <b>application.properties</b> file and add database configurations for mysql database.
</p>


<p>
<pre><code># MySQL Database Configuration
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=&lt;your-username&gt;
quarkus.datasource.password=&lt;your-password&gt;
quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/qtestdb

# Update the database schema
quarkus.hibernate-orm.database.generation=update</code></pre>
</p>

<p>
Here use your mysql username, password and qtestdb is the name of my database.
</p>


<p class="medium-bold-text">
Test The Application
</p>

<p>
Let's run the application using the maven/gradle command or use <b>Quarkus Tools</b> plugin. You first need to install the plugin in your IDE.
</p>

<p>
<b>In shell or Terminal</b>
</p>

<p>
<pre><code>$ mvn quarkus: dev 
$ gradle --console=pain quarkusDev</code></pre>
</p>

<p>
<b>Note:</b> If you use quarkus tools for your Ide, then you can simply run your quarkus application from Ide. In this case you have to download or install the Quarkus tools plugin for your IDE.
</p>

<p>
However, if you run your application, it runs on port 8080 in localhost by default. So, by using your favourite web browser invoke the endpoint <a href="http://localhost:8080/api/persons" target="_blank">http://localhost:8080/api/persons</a> and you will see a page of empty array. 
</p>


<p class="medium-bold-text">
Load Some Data
</p>

<p>
You can add few person records to this endpoint <a href="http://localhost:8080/api/persons" target="_blank">http://localhost:8080/api/persons</a> by using <b>cURL</b> or <b>Postman</b> like rest api management software tool. Or programmatically, you can use <b>import.sql</b> file to load initial data at the time of starting the application. Here, I am using <b>apiDOG</b> to add few person records into the rest api endpoint.
</p>

<p>
So, open Postman or apiDog to add some person records to this endpoint: <a href="http://localhost:8080/api/persons" target="_blank">http://localhost:8080/api/persons</a>
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img1.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
Like the above add few more person records, and click send button.
</p>

<p>
<pre><code>{
  "firstName": "Mark",
  "lastName": "Smith",
  "age": "35",
  "email": "mark77@gamil.com",
  "role": "Python Developer"
}
{
  "firstName": "Selena",
  "lastName": "Gomez",
  "age": "40",
  "email": "sena55@gamil.com",
  "role": "Rust Developer"
}
{
  "firstName": "Yakuv",
  "lastName": "Plantovitch",
  "age": "45",
  "email": "yakuv66@gamil.com",
  "role": "C++ Developer"
}
{
  "firstName": "Alena",
  "lastName": "Victor",
  "age": "50",
  "email": "alena99@gamil.com",
  "role": "Data Scientist"
}</code></pre>
</p>

<p>
After adding few demo person records now if you visit the uri in your web browser, you will see list of person records in a json format.
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img2.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
If you click on the pretty-print, then you will get the formatted response.
</p>

<p>
<pre><code>[
  {
    "id": 1,
    "firstName": "Shakil",
    "lastName": "Ahmed",
    "age": 30,
    "email": "shakil11@gamil.com",
    "role": "Java Developer"
  },
  {
    "id": 2,
    "firstName": "Mark",
    "lastName": "Smith",
    "age": 35,
    "email": "mark77@gamil.com",
    "role": "Python Developer"
  },
  {
    "id": 3,
    "firstName": "Selena",
    "lastName": "Gomez",
    "age": 40,
    "email": "sena55@gamil.com",
    "role": "Rust Developer"
  },
  {
    "id": 4,
    "firstName": "Yakuv",
    "lastName": "Plantovitch",
    "age": 45,
    "email": "yakuv66@gamil.com",
    "role": "C++ Developer"
  },
  {
    "id": 5,
    "firstName": "Alena",
    "lastName": "Victor",
    "age": 50,
    "email": "alena99@gamil.com",
    "role": "Data Scientist"
  }
]</code></pre>
</p>

<p class="medium-bold-text">
Retrieve Single Person Records
</p>

<p>
In order to retrieve a particular person records based on id, you can invoke the GET request in your rest api tool like apiDog or Postman. You can also get a single person in your browser too.
</p>

<p>
<b>Using Browser:</b> Invoke this URI <a href="http://localhost:8080/api/persons/1" target="_blank">http://localhost:8080/api/persons/1</a> and it will retrieve the person records which id is 1.
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img3.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
<pre><code>{
  "id": 1,
  "firstName": "Shakil",
  "lastName": "Ahmed",
  "age": 30,
  "email": "shakil11@gamil.com",
  "role": "Java Developer"
}</code></pre>
</p>

<p>
<b>Using apiDOG or Postman:</b> Open Postman or ApiDOG and use this API Path <a href="http://localhost:8080/api/persons/1" target="_blank">http://localhost:8080/api/persons/1</a> use http GET request and then click send button.
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img4.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
It will retrieve the first person records like the above as well.
</p>

<p class="medium-bold-text">
Update A Person Record
</p>

<p>
In order to update a person records we can simply use the API Path <a href="http://localhost:8080/api/persons/{id}" target="_blank">http://localhost:8080/api/persons/{id}</a> and make the PUT request.
</p>

<p>
Such as, we want to update the person records which id is 5.
</p>

<p>
<b>Before Updating:</b>
</p>

<p>
<pre><code>{
  "id": 5,
  "firstName": "Alena",
  "lastName": "Victor",
  "age": 50,
  "email": "alena99@gamil.com",
  "role": "Data Scientist"
}</code></pre>
</p>

<p>
Now make the PUT request with this endpoint: <a href="http://localhost:8080/api/persons/1" target="_blank">http://localhost:8080/api/persons/1</a> with the following updated data.
</p>

<p>
<pre><code>{
  "id": 5,
  "firstName": "John",
  "lastName": "Smith",
  "age": 60,
  "email": "john@gamil.com",
  "role": "Data Scientist"
}</code></pre>
</p>


<p>
<b>After Updating:</b>
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img5.png" alt="quarkus-application" class="post-image-style" />
</p>


<p class="medium-bold-text">
Delete A Person Record
</p>

<p>
Likewise the above, we can simply delete any person records based on id as well. Such as I want to delete the person records which id is 5. Hence, invoke the DELETE http request using Postman or cURL with this API Path <a href="http://localhost:8080/api/persons/5" target="_blank">http://localhost:8080/api/persons/5</a> and you will get a successful message, such as your resource has been deleted (if you set one externally!).
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img6.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
As the entity records which id is 5 has been deleted already, now if you want to access the resource of the entity which id is 5 through web browser, you will get the following error message. Such as the entity is null which id is 5. Though it is always best practice to set up custom error message for handling errors.
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/rest-api/img7.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
I hope this tutorial is very helpful for you. 
</p>
<p>
Thanks in advance.
</p>




<!--Post ends-->
</div>





<!--Footer container-->

<div include-html="https://file-hosting.dashnexpages.net/marketingstrategy/assets/html/footer.html">

</div>



<script>
includeHTML();
</script>
<!-- js script for opening and closing the nav-->

<script>

/* Set the width of the side navigation to 250px */
function openNav() {
document.getElementById("mySidenav").style.width = "100%";
}

/* Set the width of the side navigation to 0 */
function closeNav() {
document.getElementById("mySidenav").style.width = "0";
}
</script>

<!--invoke highlightJs-->
<script>hljs.highlightAll();</script> 


</body>
</html>