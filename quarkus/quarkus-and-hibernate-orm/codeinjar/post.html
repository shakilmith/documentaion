<!--V2, written for codeinjar.com-->

<!DOCTYPE html>
<html lang="en">
<head>
<!--meta tags for SEO-->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="Quarkus Tutorial; Hibernate ORM with Panache">
<meta name="description" content="Hibernate ORM with Panache Tutorial; Build your quarkus application with Hibernate ORM with Panache.">
<meta name="keywords" content="Java, Backend, REST API, Software Development, Quarkus, Hibernate ORM with Panache, Reactive Pattern, MySQL, API Development">
<meta name="author" content="shakilmith">


<!--meta tags for open graph protocol (og:title, og:image)-->
<meta property="og:type" content="website" />
<meta property="og:title" content="Learn how to create Rest API Application using Hibernate ORM with Panache in Quarkus" />
<!--Image description-->
<!--
<meta property="og:image" content="https://example.com/rock.jpg" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="300" />
<meta property="og:image:height" content="300" />
-->





<!--Include.js file-->
<script src="https://file-hosting.dashnexpages.net/marketingstrategy/assets/js/include.js"></script>



<!--HighlightJS-->
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
  
<!-- and it's easy to individually load additional languages -->
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/languages/go.min.js"></script>
  



  <title>Quarkus Hibernate ORM With Panache Tutorial | codeinjar.com</title>

  <style>
    /*Rubik font*/
    @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');


      *{
        box-sizing: border-box;
      }
      html, body{
        margin: 0px;
        padding: 0px;
      }
      
      .post-container{
        margin-left: 16px;
        margin-right: 16px;
        margin-top: 10px;
        margin-bottom: 10px;
        font-size: 16px;
        line-height: 1.5;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      /*Rubik font style*/
      .rubik-font-style{
        font-family: "Rubik", sans-serif;
        font-optical-sizing: auto;
        font-weight: 400;
        line-height: 1.5;
        font-size: 16px;
        font-style: normal;
      }
      
      pre code {
        background-color: #eee;
        border: 1px solid #999;
        display: block;
        padding: 8px;
        overflow: auto;
        border-left: 5px solid red;
        /* Add shadows to create the "card" effect */
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        margin-top: 32px;
        margin-bottom: 23px;
    }
    .left-border{
        border-left: 3px solid red;
      }  
    
      .highlight-text{
        background-color: papayawhip;
        color: black;
        display: inline;
        }
        
      .highlight-section{
        box-sizing: border-box;
        background-color: papayawhip;
        border-left: 5px solid red;
        color: black;
        padding: 3px 8px 3px 8px;
      }
  
    .large-bold-text{
      font-size: 36px;
      font-weight: bold;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }
    .medium-bold-text{
      font-size: 24px;
      font-weight: bold;
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }
    .small-bold-text{
      font-size: 18px;
      font-weight: bold;
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    }
  
  /** Image style in tutorial pages
  * In desktop version, image will be centered
  * Mobile or tablet version, it will be full width
  */
  
    /* for mobile */
    .post-image-style{
      width: 100%; 
      height: auto;
      display: block;
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
      transition: 0.3s;
      margin-top: 24px;
      margin-bottom: 24px;
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);;
    }
    
    /* for desktop */
    @media screen and (min-width: 580px){
      .post-image-style{
          max-width: 50%;
          height: auto;
          display: block;
          margin-left: auto;
          margin-right: auto;
          margin-top: 50px;
          margin-bottom: 50px;
          border-radius: 10px;
      }
    }


  </style>
  
</head>
<body>

<!-- Top nav -->
<div include-html="https://file-hosting.dashnexpages.net/marketingstrategy/assets/html/header.html"></div>
  



<!--Post starts-->  
<div class="post-container rubik-font-style">


<h1>
Quarkus Hibernate ORM With Panache
</h1>


<p>
In this tutorial post, we are going to explore how to use Hibernate ORM with Panache in order to add or retrieve data from our relational database (like mySQL or postgreSQL).
</p>

<p>
<b>Hibernate ORM with Panache:</b> Hibernate ORM with Panache is an ORM framework like Spring Data JPA works as as implementation of JPA (jakarta persistence). It is used to save, retrieve, update or delete data from our relational database. After all, it is used to create sophisticated CRUD Applications. Hibernate ORM with Panache helps you to make your entities trivial and fun while writing in Quarkus. One more thing, if you already use Spring Data JPA, then it will be very comfortable for you to use it in your application.
</p>

<p>
So, let's get into the project.
</p>

<p class="medium-bold-text">
Add The Required Dependencies
</p>

<p>
First of all, if you already have quarkus application ready to get started, add the following extensions or dependencies in your classpath. If you use maven as a build tool then, open <b>pom.xml</b> and add the below dependencies and reload your project.
</p>

<p>
<b>pom.xml</b>
</p>

<p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-rest-jackson&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-jdbc-mysql&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</p>

<p>
<b>Note:</b> We use JDBC driver extension for mySQL database. If you use alternative database then you can use their specific JDBC driver extension, such as (quarkus-jdbc-postgresql, quarkus-jdbc-h2 etc.)
</p>

<p class="medium-bold-text">
What <span style="word-spacing: 5px;">if </span> You don't have Quarkus Application Bootstrapped Yet?
</p>

<p>
In case if you are new to quarkus and don't have quarkus application bootstrapped yet, you can use quarkus CLI or quarkus initializer website <a href="https://code.quarkus.io" target="_blank">https://code.quarkus.io</a> to create your first quarkus application. But don't forget to add the above required dependencies while generating your quarkus application. You can also use this tutorial to create your first quarkus application. <br/>
<a href="https://codeinar.com/first-quarkus-application/" target="_blank">Your First Quarkus Application</a>


<p class="medium-bold-text">
Hibernate ORM with Panache Patterns
</p>


<p>
Hibernate orm with panache uses two patterns while creating entities (entities are tables of database usually).
</p>

<p>
<b>Reactive Pattern:</b> The entity class either extends <b>PanacheEntity</b> or <b>PanacheEntityBase</b> while using reactive pattern. When your entity extends <b>PanacheEntity</b>, then all the fields must be public, no primary key field required (id attribute will be added automatically), custom query methods can be defined within the entity itself (they must be public and static), no getter/setter methods required (getter/setter methods will be generated out of the box). In case you want to generate your id manually (like regular JPA entity convention) and want to define getter/setter methods for the fields then use <b>PanacheEntityBase</b>.
</p>

<p>
<b>Repository Pattern:</b> If you already use Spring Data JPA, then repository pattern will be very familiar to you. You just define your entity (with the required properties) and define repository interface class and extends <b>PanacheRepository</b> or <b>PanacheRepositoryBase</b>. Use <b>PanacheRepository</b> while you want to make the application generates id for you (thus id field will not be required) and use <b>PanacheEntityBase</b> while you want to do everything manually. 
</p>


<p>
In this tutorial, I will use reactive pattern and get the benefits of using <b>Hibernate ORM with Panache</b>.
</p>

<p class="medium-bold-text">
Create An Entity Class
</p>

<p>
First of all create an entity class in <b>com.company.model</b> folder in your project. Let's name the entity or model class <b>Person.java</b>. And don't forget to extends <b>PanacheEntity</b> or <b>PanacheEntityBase</b> (while id field is required).
</p>

<p>
<b>Person.java</b> (using reactive pattern)
</p>

<p>
<pre><code>package com.company.model;

import io.quarkus.hibernate.orm.panache.PanacheEntity;
import jakarta.persistence.*;

@Entity
public class Person extends PanacheEntity{
    /**
     * id field is added automatically when you
     * extends panacheEntity
     */
    public String name;
    public int age;

    public Person() {
    }

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    /**
     * No getter and setter methods required to define
     * as they are added implicitly as you extend
     * panacheEntity
     */

}</code></pre>
</p>


<p class="medium-bold-text">
Define a Resource Class (formally controller class)
</p>

<p>
Let's create a resource class in <b>com.company.resources</b> folder.
</p>

<p>
<b>PersonResource.java</b>
</p>

<p>
<pre><code>package com.company.resources;


import com.company.model.Person;
import jakarta.transaction.Transactional;
import jakarta.ws.rs.*;
import jakarta.ws.rs.core.MediaType;
import jakarta.ws.rs.core.Response;

import java.util.List;

@Path("/api/persons")
@Produces(MediaType.APPLICATION_JSON)
public class PersonResource {

    //retrieving all person records calling listAll() method
    @GET
    @Path("/all")
    @Produces(MediaType.APPLICATION_JSON)
    public List<Person> getAll(){
        return Person.listAll();
    }

    //adding new person records using persist() method
    @POST
    @Transactional //required to use transactional
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    public Response save(Person person){
         if(person.id != null){
             throw new WebApplicationException("Id was set invalidly on request", 404);
        }
        //calling the persist() method
        person.persist();  
        return Response.ok().entity(person).build();
    }
}</code></pre>
</p>


<p>
In the <b>PersonResource.java</b> class we have defined jax/rs <b>@GET</b> and <b>@POST</b> annotations in order to retrieve all person data and save new person records into our relational database.
</p>

<p class="medium-bold-text">
Map The Database Configuration
</p>

<p>
Open <b>application.properties</b> file and add database configurations for mysql database.
</p>

<p>
<b>application.properties</b>
</p>


<p>
<pre><code># MySQL Database Configuration
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=<your-username>
quarkus.datasource.password=<your-password>
quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/qtestdb

# Update the database schema
quarkus.hibernate-orm.database.generation=update</code></pre>
</p>

<p>
Here use your mysql username, password and qtestdb is mysql database name.
</p>

<p class="medium-bold-text">
Test The Application
</p>

<p>
Let's run the application using the maven/gradle command.
</p>


<p>
<pre><code>$ mvn quarkus: dev 
$ gradle --console=pain quarkusDev</code></pre>
</p>

<p>
<b>Note</b> If you use quarkus tools for your Ide, then you can simply run your quarkus application from Ide. In this case you have to download or install the Quarkus tools plugin for your IDE.
</p>

<p>
If you run your application, it runs on port 8080 in localhost by default. So, by using your favourite web browser invoke the endpoint <a href="http://localhost:8080/api/persons/all" target="_blank">http://localhost:8080/api/persons/all</a> and you will see a page of empty array. 
</p>

<p class="medium-bold-text">
Load Some Data
</p>

<p>
You can add few person data to this endpoint <a href="http://localhost:8080/api/persons" target="_blank">http://localhost:8080/api/persons</a> by using cURL or Postman like rest api management software tool. Or programmatically, you can use <b>import.sql</b> file to load initial data at the time of starting our application. Here, I am using apiDOG to add few person data into the rest api endpoint.
</p>

<p>
So, open postMan or apiDog to add few person records to this endpoint: <a href="http://localhost:8080/api/persons" target="_blank">http://localhost:8080/api/persons</a> 
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/img1.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
Add few more person records into the same endpoint.
</p>

<p>
<pre><code>{
    "name": "Selena Gomez",
    "age": 40
}
{
    "name": "Jekov Jenkov",
    "age": "45"
}
{
    "name": "Yakub Plantovich",
    "age": "50"
}</code></pre>
</p>

<p>
After calling few POST request on our post endpoint, you invoke now the uri of <a href="http://localhost:8080/api/persons/all" target="_blank">http://localhost:8080/api/persons/all</a> you will get the following response as a json format.
</p>

<p>
<img src="https://docs.javaondemand.com/quarkus/quarkus-and-hibernate-orm/codeinjar/img2.png" alt="quarkus-application" class="post-image-style" />
</p>

<p>
Hence, hope this post is very helpful to get started with Hibernate ORM with Panache. I believe that if you already work with Sprig Data JPA then you definitely love Hibernate ORM with Panache.
</p>







<!--Post ends-->
</div>





<!--Footer container-->

<div include-html="https://file-hosting.dashnexpages.net/marketingstrategy/assets/html/footer.html">

</div>



<script>
includeHTML();
</script>
<!-- js script for opening and closing the nav-->

<script>

/* Set the width of the side navigation to 250px */
function openNav() {
document.getElementById("mySidenav").style.width = "100%";
}

/* Set the width of the side navigation to 0 */
function closeNav() {
document.getElementById("mySidenav").style.width = "0";
}
</script>

<!--invoke highlightJs-->
<script>hljs.highlightAll();</script> 


</body>
</html>